{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?9d62","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Dashboard/AdminOrder.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?c6ef","webpack:///./src/views/Dashboard/AdminOrder.vue?56bd"],"names":["aria-label","class","_createElementVNode","aria-hidden","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_5","has_next","props","methods","updatePage","this","$emit","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error","_hoisted_1","_hoisted_4","$data","item","length","is_paid","_toDisplayString","_ctx","date","create_at","user","email","products","product","i","title","qty","unit","total","type","id","$event","onChange","for","_hoisted_13","_hoisted_15","_hoisted_16","_createVNode","_component_OrderModal","order","ref","onUpdatePaid","_component_DelModal","onDelItem","_component_Pagination","pages","onEmitPages","tabindex","role","aria-labelledby","data-bs-dismiss","style","_hoisted_8","_hoisted_10","_hoisted_11","name","_hoisted_12","tel","_hoisted_14","address","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","currency","_hoisted_27","_hoisted_29","final_total","value","_hoisted_34","_hoisted_35","_hoisted_37","Object","default","data","status","modal","tempOrder","isPaid","emits","mixins","modalMixin","inject","watch","orders","isNew","pagination","currentPage","components","Pagination","DelModal","OrderModal","getOrders","url","process","isLoading","$http","tempProduct","then","response","catch","err","$httpMessageState","openModal","orderComponent","$refs","orderModal","openDelOrderModal","delComponent","delModal","updatePaid","emitter","emit","api","paid","put","res","hideModal","message","delOrder","delete","mounted"],"mappings":"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","file":"js/chunk-cc0bc3f4.42078da0.js","sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{disabled: !pages.has_pre}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page-1)\" aria-label=\"Previous\"><span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{active:page === pages.current_page }\" v-for=\"page in pages.total_pages\" :key=\"page+'452'\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{page}}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{disabled: !pages.has_next}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page+1)\" aria-label=\"Next\"><span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit('emitPages', page)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=6b0c26ca\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\Desktop\\\\Vue  course seven week homework\\\\week7-homework\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <h2>後台訂單</h2>\r\n  <div class=\"container\">\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr class=\"table-light\">\r\n          <th>購買時間</th>\r\n          <th>Email</th>\r\n          <th>購買款項</th>\r\n          <th>應付金額</th>\r\n          <th>是否付款</th>\r\n          <th>編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n          <tr v-if=\"orders.length\" :class=\"{ 'text-secondary': !item.is_paid }\">\r\n            <td>{{ $filters.date(item.create_at) }}</td>\r\n            <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                  {{ product.product.title }} 數量：{{ product.qty }}\r\n                  {{ product.product.unit }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td class=\"text-right\">{{ item.total }}</td>\r\n            <td>\r\n              <div class=\"d-flex justify-content-center\">\r\n                <div class=\"form-check form-switch\">\r\n                  <input class=\"form-check-input me-2\" type=\"checkbox\" :id=\"`paidSwitch${item.id}`\" v-model=\"item.is_paid\" @change=\"updatePaid(item)\" />\r\n                  <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                    <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button class=\"btn btn-outline-primary btn-sm\" type=\"button\" @click=\"openModal(item)\">\r\n                  檢視\r\n                </button>\r\n                <button class=\"btn btn-outline-danger btn-sm\" type=\"button\" @click=\"openDelOrderModal(item)\">\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n  <OrderModal :order=\"tempOrder\" ref=\"orderModal\" @update-paid=\"updatePaid\"></OrderModal>\r\n  <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n  <Pagination :pages=\"pagination\" @emitPages=\"getOrders\"></Pagination>\r\n</template>\r\n<script>\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport OrderModal from '@/components/OrderModal.vue'\r\n\r\nexport default {\r\n  inject: ['emitter'],\r\n  data() {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      pagination: {},\r\n      tempOrder: {},\r\n      currentPage: 1\r\n    }\r\n  },\r\n  components: {\r\n    Pagination,\r\n    DelModal,\r\n    OrderModal\r\n  },\r\n  methods: {\r\n    getOrders(currentPage = 1) {\r\n      this.currentPage = currentPage\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`\r\n      this.isLoading = true\r\n      this.$http.get(url, this.tempProduct).then((response) => {\r\n        this.orders = response.data.orders\r\n        this.pagination = response.data.pagination\r\n      }).catch((err) => {\r\n        this.$httpMessageState(err.response, '錯誤訊息')\r\n      })\r\n    },\r\n    openModal(item) {\r\n      this.tempOrder = { ...item }\r\n      this.isNew = false\r\n      const orderComponent = this.$refs.orderModal\r\n      orderComponent.openModal()\r\n    },\r\n    openDelOrderModal(item) {\r\n      this.tempOrder = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.openModal()\r\n    },\r\n    updatePaid(item) {\r\n      this.emitter.emit('loading')\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\r\n      const paid = {\r\n        is_paid: item.is_paid\r\n      }\r\n      this.$http.put(api, { data: paid }).then((res) => {\r\n        const orderComponent = this.$refs.orderModal\r\n        orderComponent.hideModal()\r\n        this.getOrders(this.currentPage)\r\n        this.$httpMessageState(res, res.data.message)\r\n      }).catch((err) => {\r\n        this.$httpMessageState(err.response, '錯誤訊息')\r\n      })\r\n    },\r\n    delOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n      this.$http.delete(url)\r\n        .then((res) => {\r\n          this.emitter.emit('loading')\r\n          const delComponent = this.$refs.delModal\r\n          delComponent.hideModal()\r\n          this.getOrders(this.currentPage)\r\n          this.$httpMessageState(res, '刪除')\r\n        }).catch((err) => {\r\n          this.$httpMessageState(err.response, '錯誤訊息')\r\n        })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.emitter.emit('loading')\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(tempOrder.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.final_total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckDefault\" v-model=\"tempOrder.is_paid\" />\r\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-paid', tempOrder)\">\r\n            修改付款狀態\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default() { return {} }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false\r\n    }\r\n  },\r\n  emits: ['update-paid'],\r\n  mixins: [modalMixin],\r\n  inject: ['emitter'],\r\n  watch: {\r\n    order() {\r\n      this.tempOrder = this.order\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=54afcaf4\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\Desktop\\\\Vue  course seven week homework\\\\week7-homework\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrder.vue?vue&type=template&id=e152423e\"\nimport script from \"./AdminOrder.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\b9111\\\\Desktop\\\\Vue  course seven week homework\\\\week7-homework\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}